<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FAQ 검색</title>
  <style>
      body {
          font-family: 'Arial', sans-serif;
          background-color: #f4f6f9;
          margin: 0;
          padding: 20px;
          display: flex;
          height: 100vh;
      }
      
      .faq-section {
          width: 20%;
          padding: 20px;
          border-right: 2px solid #ddd;
          overflow-y: auto;
          background: #ffffff;
      }
  
      .faq-container {
          width: 100%;
          margin-top: 10px;
          padding-top: 10px;
          border-top: 2px solid #ddd;
      }
      
      .faq-item {
          background: #f1f5fa;
          border-radius: 10px;
          margin-bottom: 10px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          cursor: pointer;
          padding: 10px;
          text-align: left;
          font-weight: bold;
      }
      
      .faq-item:hover {
          background: #e0e0e0;
      }
  
      .faq-item.scenario {
          background: #e9f0ff;
          border-bottom: 2px solid #ddd;
          font-weight: bold;
      }
  
      .faq-item.category {
          background: #f1f5fa;
          padding-left: 15px;
          font-weight: bold;
      }
  
      .category-container {
          display: none;
          margin-top: 5px;
          transition: all 0.3s ease-in-out;
      }
  
      .question-display {
          width: 40%;
          background: #f1f5fa;
          padding: 20px;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: flex-start;
          height: 100vh;
      }
      
      .selected-question {
          font-size: 22px;
          font-weight: bold;
          color: #007bff;
          margin-bottom: 10px;
      }
  
      .selected-response {
          padding: 15px;
          background: #e3f2fd;
          border-radius: 5px;
          font-size: 16px;
      }
  
      .search-container {
          padding-bottom: 10px;
          margin-bottom: 10px;
      }
  
      .search-container input {
          width: calc(100% - 40px);
          padding: 12px;
          font-size: 16px;
          border: 1px solid #ccc;
          border-radius: 5px;
          display: block;
          margin: 0 auto;
      }
  
      .faq-header {
          display: flex;
          align-items: center;
      }
  
      .info-button {
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background-color: #007bff;
          color: white;
          text-align: center;
          font-size: 16px;
          font-weight: bold;
          line-height: 24px;
          cursor: pointer;
          border: none;
          margin-left: 5px;
      }
  
      .tooltip {
          display: none;
          position: fixed;
          top: 10px;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0, 0, 0, 0.8);
          color: white;
          padding: 10px 20px;
          border-radius: 5px;
          font-size: 14px;
          white-space: nowrap;
          z-index: 1000;
      }
  
      .tooltip.show {
          display: block;
      }
  </style>
</head>
<body>
  <div class="faq-section">
      <div class="faq-header">
          <h1>FAQ 검색</h1>
          <button class="info-button" onclick="toggleTooltip()">!</button>
      </div>
      
      <!-- 리뷰프로모션 버튼 추가 -->
      <button id="reviewPromotionBtn" class="faq-item" style="margin-bottom: 10px;">리뷰프로모션</button>
      
      <div class="search-container">
          <input type="text" id="search" placeholder="검색어를 입력하세요..." onkeyup="filterFAQ()">
      </div>
  
      <div class="faq-container" id="scenarioContainer"></div>
  </div>
  
  <div class="faq-section" id="questionSection"></div>
  <div class="question-display" id="questionDisplay">
      <p>질문을 클릭하면 여기에 표시됩니다.</p>
  </div>
  
  <div class="tooltip" id="tooltip">
      FAQ 용어 정리 (검색이 용이하기 위해 일관된 단어로 검색해주세요.)<br>
      요금 : 금액, 가격, 객단가, 객실가, 단가<br>
      리뷰 : 후기, 이용후기, 평가, 별점<br>
      취소 : 중단, 중지, 제외, 철회, 보류, 종료, 해지<br>
      보상 : 리워드, 상품, 선물, 상금, 혜택
  </div>
  
  <script>
      // 기존 faqData (질문/답변 데이터)는 그대로 유지
      const faqData = [
          {
              scenario: "도입",
              category: "첫인사",
              question: "[상담신청OB] 첫인사와 솔루션 소개",
              response: "안녕하세요. 트립일레븐 마케팅 담당자 000입니다.<br>상담 신청하신 것을 확인하고 기쁜 마음으로 연락드리게 되었습니다.<br>해당 솔루션에 대해 짧게 안내드려도될까요?<br><br>솔루션은 대표적으로 4가지가 있는데요, 그중에서도 리뷰 프로모션은 가장 부담없이 시도해볼 수 있는 방법입니다.<br>요즘 고객들은 펜션을 선택할 때 최신 리뷰를 중요하게 보는데,<br>이 프로모션을 진행하면 고객이 보상을 받기 위해서 자연스럽게 리뷰를 작성할 수 있게 유도가 되고, 리뷰들이 쌓이면서 신뢰도를 높여서 예약 전환율 올릴 수 있습니다.<br>현재 약 300개 이상 펜션에서 진행 중이고, 실제로 예약률이 상승한 사례가 많습니다. 대표님도 한번 진행해보시는 건 어떨까요?"
          },
          // 필요에 따라 추가 데이터 작성 가능
      ];
  
      // 고정된 시나리오 목록
      const fixedScenarios = ["도입", "상담진행", "마무리"];
      // 고정된 카테고리 목록
      const fixedCategories = ["첫인사", "마무리인사"];
  
      // 리뷰프로모션 버튼 클릭 시 시나리오 렌더링
      document.getElementById("reviewPromotionBtn").onclick = function() {
          renderScenarios();
          // 질문 섹션 및 표시 초기화
          document.getElementById("questionSection").innerHTML = "";
          document.getElementById("questionDisplay").innerHTML = `<p>질문을 클릭하면 여기에 표시됩니다.</p>`;
      };
  
      function renderScenarios() {
          const container = document.getElementById("scenarioContainer");
          container.innerHTML = '';
  
          fixedScenarios.forEach(scenario => {
              const scenarioDiv = document.createElement("div");
              scenarioDiv.classList.add("faq-item", "scenario");
              scenarioDiv.textContent = scenario;
              scenarioDiv.onclick = () => toggleCategories(scenario);
  
              const categoryContainer = document.createElement("div");
              categoryContainer.classList.add("category-container");
              categoryContainer.id = `category-${scenario}`;
  
              container.appendChild(scenarioDiv);
              container.appendChild(categoryContainer);
          });
      }
  
      function toggleCategories(scenario) {
          const container = document.getElementById(`category-${scenario}`);
  
          if (container.style.display === "block") {
              container.style.display = "none";
              container.innerHTML = '';
          } else {
              container.style.display = "block";
              // 고정된 카테고리 사용
              container.innerHTML = fixedCategories.map(category => `<div class="faq-item category" onclick="renderQuestions('${scenario}', '${category}')">${category}</div>`).join('');
          }
      }
  
      function renderQuestions(scenario, category) {
          const container = document.getElementById("questionSection");
          // faqData에서 시나리오와 카테고리가 일치하는 항목만 필터링
          const questions = faqData.filter(item => item.scenario === scenario && item.category === category);
          container.innerHTML = questions.length > 0 
              ? questions.map(item => `<div class="faq-item" onclick="displayQuestion('${item.question}', '${item.response}')">${item.question}</div>`).join('')
              : `<div class="faq-item">검색 결과가 없습니다.</div>`;
      }
  
      function displayQuestion(questionText, responseText) {
          document.getElementById("questionDisplay").innerHTML = `<p class="selected-question">${questionText}</p><p class="selected-response">${responseText}</p>`;
      }
  
      function toggleTooltip() {
          const tooltip = document.getElementById("tooltip");
          tooltip.classList.toggle("show");
          setTimeout(() => {
              tooltip.classList.remove("show");
          }, 3000);
      }
  
      // 검색어 입력 시 질문 항목 필터링 (faqData에서 검색)
      function filterFAQ() {
          const query = document.getElementById("search").value.trim().toLowerCase();
          const container = document.getElementById("questionSection");
          if (query === "") {
              container.innerHTML = "";
              return;
          }
          const results = faqData.filter(item => item.question.toLowerCase().includes(query));
          if (results.length === 0) {
              container.innerHTML = `<div class="faq-item">검색 결과가 없습니다.</div>`;
          } else {
              container.innerHTML = results.map(item => `<div class="faq-item" onclick="displayQuestion('${item.question}', '${item.response}')">${item.question}</div>`).join('');
          }
      }
  </script>
</body>
</html>
